<h1>Lessons Calendar</h1>


<% start_date = params.fetch(:start_date, Date.today).to_date %>
<% date_range = (start_date.beginning_of_month.beginning_of_week..start_date.end_of_month.end_of_week).to_a %>

<%= link_to(raw("&laquo;"), start_date: date_range.first - 1.day) %>
<span>
	<%= I18n.t("date.month_names")[start_date.month] %> 
	<%= start_date.year %>
</span>
<%= link_to(raw("&raquo;"), start_date: date_range.last + 1.day) %>


<table>
	<thead>
		<tr>
			<th>Sunday</th>
			<th>Monday</th>
			<th>Tuesday</th>
			<th>Wednesday</th>
			<th>Thursday</th>
			<th>Friday</th>
			<th>Saturday</th>
		</tr>
	</thead>
	<tbody>
		<% date_range.each_slice(7) do |week| %>
			<tr>
				<% week.each do |day| %>
					<td><%= day.day %></td>
				<% end %>
			</tr>
		<% end %>
	</tbody>
</table>

