<!DOCTYPE html>
<html>
  <head>
     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>Summit</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    
  </head>

  <body class='bg-light'>
    <header class='page-head bg-topograph contrast-border'>
      <nav class="navbar navbar-expand navbar-dark pt-3 pb-3 d-flex">
        <div class='navbar-links d-flex flex-grow-1'>
          <div class="nav-links d-flex flex-row flex-grow-1 align-items-center">
            <h4 class='mr-auto ml-5 text-white'>Summit Logo</h4>
            <p class='flex-grow-1 text-white'> </p>
            <%= link_to('Projects', root_path, class: 'navbar-nav text-white ml-2 mr-2') %>
            <%= link_to('New Project', new_project_path, class: 'navbar-nav text-white ml-2 mr-2') %>
            <%= link_to('Q&A', questions_path, class: 'navbar-nav text-white ml-2 mr-2') %>
            <%= link_to('Calendar', lessons_path, class: 'navbar-nav text-white ml-2 mr-2') %>
            <% if current_user %>
              <%=link_to 'sign out', destroy_user_session_path, class: 'navbar-nav text-white ml-2 mr-2', method: :delete %>
              <%=link_to 'Invite new user', new_user_invitation_path, class: 'navbar-nav text-white ml-2 mr-2' %>
              <%=link_to 'edit profile', edit_user_registration_path, class: 'navbar-nav text-white ml-2 mr-2' %>
            <% else %>
              <%# sign up only required for testing as addition only usually through email invite%>
              <%=link_to 'sign up', new_user_registration_path, class: 'navbar-nav text-white ml-2 mr-2' %>
              <%=link_to 'sign in', new_user_session_path, class: 'navbar-nav text-white ml-2 mr-2' %>
          <% end%>
          </div>
        </div>
      </nav>

    </header>


    <div class="body-content">

      <div class='d-flex'>
        <div class='profile-nav bg-white col-2 ml-5 pr-0 pl-0 d-flex align-items-center sticky flex-column border rounded shadow-sm'>
          <div class="profile d-flex flex-column align-items-center">
            <img src="https://picsum.photos/100" class='rounded-circle mt-4'>
            <h6 class='mt-2'>User Name</h6>
            <p class='text-secondary'>User email</p>
          </div>
          <hr class='nav-break mt-0 ml-1 mr-1'>
          <h6 class='align-self-start ml-4'>Navigation</h6>
          <nav class='w-100 d-flex flex-column'>
            <%= link_to('Projects', root_path, class: 'navbar-nav ml-1 mr-1 mb-1 btn btn-secondary nav-button bg-navy') %>
            <%= link_to('New Project', new_project_path, class: 'navbar-nav ml-1 mr-1 mb-1 btn btn-light nav-button') %>
            <%= link_to('Q&A', questions_path, class: 'navbar-nav ml-1 mr-1 mb-1 btn btn-light nav-button') %>
            <div class='btn-group dropright'>
              <%= link_to('Calendar', lessons_path, class: 'navbar-nav ml-1 mb-1 btn btn-light nav-button') %>
              <button type="button" class="btn btn-light dropdown-toggle dropdown-toggle-split mr-1 mb-1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="sr-only">Toggle Dropdown</span>
              </button>
              <div class='dropdown-menu'>
                <%= render partial: 'lessons/calendar', locals: {project: Project.first}%>
              </div>
            </div>
          </nav>
          <hr class='nav-break mt-2 ml-1 mr-1'>
        </div>

        <div class='width-100 pl-0 pr-0'>
          <div class="d-flex flex-column align-items-center pt-5 pb-5">
            <h3 class='text-white'>Page Header</h3>
            <h6 class='text-white'>Page info</h6>
          </div>
          <%= yield %>
        </div>
      </div>
    </div>
  </body>
  <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js" integrity="sha384-kW+oWsYx3YpxvjtZjFXqazFpA7UP/MbiY4jvs+RWZo2+N94PFZ36T6TFkc9O3qoB" crossorigin="anonymous"></script>
</html>
